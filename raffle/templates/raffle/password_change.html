{% extends "raffle/admin_base.html" %}

{% block page_title %}Cambiar contraseña | Ciudad de la Suerte{% endblock page_title %}
{% block nav_password_change_active %}is-active{% endblock nav_password_change_active %}
{% block header_title %}Actualizar contraseña{% endblock header_title %}
{% block header_subtitle %}Mantenga segura su cuenta cambiando la clave regularmente.{% endblock header_subtitle %}

{% block content %}
<section class="admin-section admin-section--primary">
    <header class="admin-section__header">
        <div>
            <h2>Datos de acceso</h2>
            <p>Ingrese su contraseña actual y establezca una nueva para continuar.</p>
        </div>
    </header>
    <form method="post" class="admin-form admin-form--stacked">
        {% csrf_token %}
        {{ form.non_field_errors }}
        <div class="admin-field">
            <label for="{{ form.old_password.id_for_label }}">{{ form.old_password.label }}</label>
            {{ form.old_password }}
            {% if form.old_password.errors %}
            <div class="admin-field__error">{{ form.old_password.errors.0 }}</div>
            {% endif %}
        </div>
        <div class="admin-field">
            <label for="{{ form.new_password1.id_for_label }}">{{ form.new_password1.label }}</label>
            {{ form.new_password1 }}
            {% if form.new_password1.help_text %}
            <p class="admin-field__hint">{{ form.new_password1.help_text }}</p>
            {% endif %}
            {% if form.new_password1.errors %}
            <div class="admin-field__error">{{ form.new_password1.errors.0 }}</div>
            {% endif %}
        </div>
        <div class="admin-field">
            <label for="{{ form.new_password2.id_for_label }}">{{ form.new_password2.label }}</label>
            {{ form.new_password2 }}
            {% if form.new_password2.errors %}
            <div class="admin-field__error">{{ form.new_password2.errors.0 }}</div>
            {% endif %}
        </div>
        <div class="admin-form__actions">
            <button type="submit" class="admin-button">Guardar cambios</button>
            <a class="admin-button admin-button--ghost" href="{% url 'raffle_admin:room_dashboard' %}">Cancelar</a>
        </div>
    </form>
</section>
{% endblock content %}
