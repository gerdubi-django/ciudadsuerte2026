{% extends "raffle/admin_base.html" %}
{% load static %}

{% block page_title %}Registrar participante | Ciudad de la Suerte{% endblock page_title %}
{% block nav_cashier_register_active %}is-active{% endblock nav_cashier_register_active %}
{% block nav_cashier_register_active_cashier_only %}is-active{% endblock nav_cashier_register_active_cashier_only %}
{% block nav_manual_register_active %}is-active{% endblock nav_manual_register_active %}
{% block header_title %}Registrar participante{% endblock header_title %}
{% block header_subtitle %}Alta simplificada para rol cambista.{% endblock header_subtitle %}

{% block content %}
<section class="admin-section admin-section--primary">
    <header class="admin-section__header">
        <div>
            <h2>Datos b√°sicos del participante</h2>
            <p>Complete solo los datos necesarios para emitir cupones.</p>
        </div>
        <div class="admin-chip-group">
            <span class="admin-chip">Se generan 5 cupones por registro</span>
        </div>
    </header>
    <form class="admin-form" method="post" novalidate>
        {% csrf_token %}
        {{ form.room_id }}
        {% if form.non_field_errors %}
        <div class="admin-alert admin-alert--error">{{ form.non_field_errors.0 }}</div>
        {% endif %}
        <div class="admin-form__grid">
            <div class="admin-field">
                <label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
                {{ form.first_name }}
                {% if form.first_name.errors %}
                <div class="admin-field__error">{{ form.first_name.errors.0 }}</div>
                {% endif %}
            </div>
            <div class="admin-field">
                <label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
                {{ form.last_name }}
                {% if form.last_name.errors %}
                <div class="admin-field__error">{{ form.last_name.errors.0 }}</div>
                {% endif %}
            </div>
            <div class="admin-field">
                <label for="{{ form.id_number.id_for_label }}">{{ form.id_number.label }}</label>
                {{ form.id_number }}
                {% if form.id_number.errors %}
                <div class="admin-field__error">{{ form.id_number.errors.0 }}</div>
                {% endif %}
            </div>
            <div class="admin-field">
                <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                {{ form.email }}
                {% if form.email.errors %}
                <div class="admin-field__error">{{ form.email.errors.0 }}</div>
                {% endif %}
            </div>
            <div class="admin-field">
                <label for="{{ form.phone.id_for_label }}">{{ form.phone.label }}</label>
                {{ form.phone }}
                {% if form.phone.errors %}
                <div class="admin-field__error">{{ form.phone.errors.0 }}</div>
                {% endif %}
            </div>
            <div class="admin-field">
                <label for="{{ form.birth_date.id_for_label }}">{{ form.birth_date.label }}</label>
                {{ form.birth_date }}
                {% if form.birth_date.errors %}
                <div class="admin-field__error">{{ form.birth_date.errors.0 }}</div>
                {% endif %}
            </div>
        </div>
        <div class="admin-panel admin-panel--muted">
            <h3 class="admin-panel__title">Aviso al participante</h3>
            <p class="admin-panel__subtitle">Texto cargado desde ajustes del sistema.</p>
            <p class="admin-terms-preview">{{ terms_text }}</p>
        </div>
        <div class="admin-form__actions">
            <a class="admin-button admin-button--ghost" href="{% url 'raffle_admin:room_dashboard' %}">Ver reportes</a>
            <button class="admin-button" type="submit">Registrar y emitir</button>
        </div>
    </form>
</section>
{% endblock content %}
